%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[a4paper,10pt,english,openany,oneside]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax

\PassOptionsToPackage{warn}{textcomp}
\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
% support both utf8 and utf8x syntaxes
\edef\sphinxdqmaybe{\ifdefined\DeclareUnicodeCharacterAsOptional\string"\fi}
  \DeclareUnicodeCharacter{\sphinxdqmaybe00A0}{\nobreakspace}
  \DeclareUnicodeCharacter{\sphinxdqmaybe2500}{\sphinxunichar{2500}}
  \DeclareUnicodeCharacter{\sphinxdqmaybe2502}{\sphinxunichar{2502}}
  \DeclareUnicodeCharacter{\sphinxdqmaybe2514}{\sphinxunichar{2514}}
  \DeclareUnicodeCharacter{\sphinxdqmaybe251C}{\sphinxunichar{251C}}
  \DeclareUnicodeCharacter{\sphinxdqmaybe2572}{\textbackslash}
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}
\usepackage{times}
\usepackage[Bjarne]{fncychap}
\usepackage{sphinx}

\fvset{fontsize=\small}
\usepackage{geometry}

% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}
\addto\captionsenglish{\renewcommand{\contentsname}{Contents:}}

\addto\captionsenglish{\renewcommand{\figurename}{Fig.\@ }}
\makeatletter
\def\fnum@figure{\figurename\thefigure{}}
\makeatother
\addto\captionsenglish{\renewcommand{\tablename}{Table }}
\makeatletter
\def\fnum@table{\tablename\thetable{}}
\makeatother
\addto\captionsenglish{\renewcommand{\literalblockname}{Listing}}

\addto\captionsenglish{\renewcommand{\literalblockcontinuedname}{continued from previous page}}
\addto\captionsenglish{\renewcommand{\literalblockcontinuesname}{continues on next page}}
\addto\captionsenglish{\renewcommand{\sphinxnonalphabeticalgroupname}{Non-alphabetical}}
\addto\captionsenglish{\renewcommand{\sphinxsymbolsname}{Symbols}}
\addto\captionsenglish{\renewcommand{\sphinxnumbersname}{Numbers}}

\addto\extrasenglish{\def\pageautorefname{page}}

\setcounter{tocdepth}{1}



\title{sdvalidator Documentation}
\date{Feb 04, 2019}
\release{2.1.11}
\author{Calum Baird}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{Release}
\makeindex
\begin{document}

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{index::doc}}



\chapter{Installation}
\label{\detokenize{installation:installation}}\label{\detokenize{installation::doc}}

\section{From pip}
\label{\detokenize{installation:from-pip}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZdl{}} pip3 install sdvalidator
\end{sphinxVerbatim}


\section{From source}
\label{\detokenize{installation:from-source}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZdl{}} git clone https://github.com/calumsbaird/sdvalidator.git
\PYG{g+gp}{\PYGZdl{}} \PYG{n+nb}{cd} sdvalidator
\PYG{g+gp}{\PYGZdl{}} python3 setup.py install
\end{sphinxVerbatim}


\chapter{Usage}
\label{\detokenize{usage:usage}}\label{\detokenize{usage::doc}}

\section{From command line}
\label{\detokenize{usage:from-command-line}}

\subsection{Command line arguments}
\label{\detokenize{usage:command-line-arguments}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZdl{}} sdvalidate google.com
\PYG{g+go}{google.com SPF: VALID DMARC: VALID}
\end{sphinxVerbatim}


\subsection{File IO}
\label{\detokenize{usage:file-io}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZdl{}} cat domains.txt
\PYG{g+go}{google.com}
\PYG{g+go}{csbaird.com}
\PYG{g+go}{github.com}

\PYG{g+gp}{\PYGZdl{}} cat domains.txt \PYG{p}{\textbar{}} sdvalidate
\PYG{g+go}{google.com SPF: VALID  DMARC: VALID}
\PYG{g+go}{csbaird.com SPF: VALID  DMARC: VALID}
\PYG{g+go}{github.com SPF: VALID  DMARC: VALID}
\end{sphinxVerbatim}


\section{Python Usage}
\label{\detokenize{usage:python-usage}}
Given a list of domains find which domains have valid spf and dmarc records and cache the results.  Optionally pickle the output.:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{sdvalidator} \PYG{k}{import} \PYG{o}{*}
\PYG{n}{domains} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{csbaird.com}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{google.com}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{github.com}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}
\PYG{n}{cache} \PYG{o}{=} \PYG{n}{validate\PYGZus{}sd}\PYG{p}{(}\PYG{n}{domains}\PYG{p}{,}\PYG{n}{verbose}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{cache}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{csbaird.com}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{spf\PYGZus{}validity}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} VALID}

\PYG{k+kn}{import} \PYG{n+nn}{pickle}
\PYG{k}{with} \PYG{n+nb}{open}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{backup.pickle}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{wb}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)} \PYG{k}{as} \PYG{n}{f}\PYG{p}{:}
    \PYG{n}{pickle}\PYG{o}{.}\PYG{n}{dump}\PYG{p}{(}\PYG{n}{cache}\PYG{p}{,} \PYG{n}{f}\PYG{p}{)}
\end{sphinxVerbatim}


\chapter{Functions}
\label{\detokenize{functions:module-sdvalidator}}\label{\detokenize{functions:functions}}\label{\detokenize{functions::doc}}\index{sdvalidator (module)@\spxentry{sdvalidator}\spxextra{module}}\index{resolves() (in module sdvalidator)@\spxentry{resolves()}\spxextra{in module sdvalidator}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{functions:sdvalidator.resolves}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{sdvalidator.}}\sphinxbfcode{\sphinxupquote{resolves}}}{\emph{domain}}{}~
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{resolves}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{csbaird.com}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{g+go}{True}
\end{sphinxVerbatim}

If domain resolves to an A, AAAA or CNAME return True
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxstyleliteralstrong{\sphinxupquote{domain}} (\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxstyleliteralemphasis{\sphinxupquote{str}}}) \textendash{} A domain such as ‘example.com’

\item[{Returns}] \leavevmode
True if resolves to an address

\item[{Return type}] \leavevmode
\sphinxhref{https://docs.python.org/3/library/functions.html\#int}{int}

\end{description}\end{quote}

\end{fulllineitems}

\index{filter\_resolving\_domains() (in module sdvalidator)@\spxentry{filter\_resolving\_domains()}\spxextra{in module sdvalidator}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{functions:sdvalidator.filter_resolving_domains}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{sdvalidator.}}\sphinxbfcode{\sphinxupquote{filter\_resolving\_domains}}}{\emph{domains}, \emph{verbose=False}}{}~
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{filter\PYGZus{}resolving\PYGZus{}domains}\PYG{p}{(}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{csbaird.com}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{fake.csbaird.com}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)}
\PYG{g+go}{[\PYGZsq{}csbaird.com\PYGZsq{}]}
\end{sphinxVerbatim}

Filters out any non-resolving domain from a list.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{domains}} (\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#list}{\sphinxstyleliteralemphasis{\sphinxupquote{list}}}) \textendash{} A list of str domains

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{verbose}} (\sphinxhref{https://docs.python.org/3/library/functions.html\#bool}{\sphinxstyleliteralemphasis{\sphinxupquote{bool}}}) \textendash{} Optionally print progress of filter

\end{itemize}

\item[{Returns}] \leavevmode
List of resolving domains

\item[{List}] \leavevmode
\end{description}\end{quote}

\end{fulllineitems}

\index{pull\_spf() (in module sdvalidator)@\spxentry{pull\_spf()}\spxextra{in module sdvalidator}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{functions:sdvalidator.pull_spf}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{sdvalidator.}}\sphinxbfcode{\sphinxupquote{pull\_spf}}}{\emph{domain}}{}~
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{pull\PYGZus{}spf}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{csbaird.com}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{g+go}{[\PYGZsq{}v=spf1 mx \PYGZhy{}all\PYGZsq{}]}
\end{sphinxVerbatim}

Get all txt records that look like they are an spf record
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxstyleliteralstrong{\sphinxupquote{domain}} (\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxstyleliteralemphasis{\sphinxupquote{str}}}) \textendash{} domain like example.com

\item[{Returns}] \leavevmode
List of records that look like they are spf records.

\item[{Return type}] \leavevmode
\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#list}{list}

\end{description}\end{quote}

\end{fulllineitems}

\index{pull\_dmarc() (in module sdvalidator)@\spxentry{pull\_dmarc()}\spxextra{in module sdvalidator}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{functions:sdvalidator.pull_dmarc}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{sdvalidator.}}\sphinxbfcode{\sphinxupquote{pull\_dmarc}}}{\emph{domain}}{}~
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{pull\PYGZus{}dmarc}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{csbaird.com}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{g+go}{[\PYGZsq{}v=DMARC1;  p=reject; pct=100; rua=mailto:root@csbaird.com; ruf=mailto:root@csbaird.com\PYGZsq{}]}
\end{sphinxVerbatim}

Get all txt records that look like they are an dmarc record
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxstyleliteralstrong{\sphinxupquote{domain}} (\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxstyleliteralemphasis{\sphinxupquote{str}}}) \textendash{} domain like example.com

\item[{Returns}] \leavevmode
List of records that look like they are dmarc records.

\item[{Return type}] \leavevmode
\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#list}{list}

\end{description}\end{quote}

\end{fulllineitems}

\index{resolve\_record() (in module sdvalidator)@\spxentry{resolve\_record()}\spxextra{in module sdvalidator}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{functions:sdvalidator.resolve_record}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{sdvalidator.}}\sphinxbfcode{\sphinxupquote{resolve\_record}}}{\emph{domain}}{}~
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{resolve\PYGZus{}record}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{csbaird.com}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{g+go}{[\PYGZsq{}ca3\PYGZhy{}0eb269d493c84687a2b27e8bea13ca55\PYGZsq{}, \PYGZsq{}v=spf1 mx \PYGZhy{}all\PYGZsq{}]}
\end{sphinxVerbatim}

Get all txt records associated with a domain.
If a CNAME gets record of the domain it redirects to.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxstyleliteralstrong{\sphinxupquote{domain}} (\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxstyleliteralemphasis{\sphinxupquote{str}}}) \textendash{} domain like example.com

\item[{Returns}] \leavevmode
List of txt records associated with the domain

\item[{Return type}] \leavevmode
\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#list}{list}

\end{description}\end{quote}

\end{fulllineitems}

\index{pull\_sd() (in module sdvalidator)@\spxentry{pull\_sd()}\spxextra{in module sdvalidator}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{functions:sdvalidator.pull_sd}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{sdvalidator.}}\sphinxbfcode{\sphinxupquote{pull\_sd}}}{\emph{domains}, \emph{cache=\{\}}}{}~
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{dns\PYGZus{}grab}\PYG{o}{.}\PYG{n}{pull\PYGZus{}sd}\PYG{p}{(}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{csbaird.com}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)}
\PYG{g+go}{\PYGZob{}\PYGZsq{}csbaird.com\PYGZsq{}: \PYGZob{}\PYGZsq{}spf\PYGZsq{}: [\PYGZsq{}v=spf1 mx \PYGZhy{}all\PYGZsq{}], \PYGZsq{}dmarc\PYGZsq{}: [\PYGZsq{}v=DMARC1;  p=reject; pct=100; rua=mailto:root@csbaird.com; ruf=mailto:root@csbaird.com\PYGZsq{}]\PYGZcb{}\PYGZcb{}}
\end{sphinxVerbatim}

Get the SPF and DMARC records and store them in a dictionary.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{domains}} (\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#list}{\sphinxstyleliteralemphasis{\sphinxupquote{list}}}) \textendash{} list of domains.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{cache}} (\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#dict}{\sphinxstyleliteralemphasis{\sphinxupquote{dict}}}) \textendash{} dictionary containing domains mapped to dicts containing spf and dmarc records.

\end{itemize}

\item[{Returns}] \leavevmode
cache

\item[{Return type}] \leavevmode
\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#dict}{dict}

\end{description}\end{quote}

\end{fulllineitems}

\index{validate\_spf() (in module sdvalidator)@\spxentry{validate\_spf()}\spxextra{in module sdvalidator}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{functions:sdvalidator.validate_spf}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{sdvalidator.}}\sphinxbfcode{\sphinxupquote{validate\_spf}}}{\emph{domain}, \emph{cache=\{\}}, \emph{\_\_depth=0}}{}~
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{validate\PYGZus{}spf}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{csbaird.com}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{g+go}{\PYGZsq{}VALID\PYGZsq{}}
\end{sphinxVerbatim}

Check validity of a domain’s spf record.
Uses a regex and checks recursive lookup depth.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{domain}} (\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxstyleliteralemphasis{\sphinxupquote{str}}}) \textendash{} A domain such as example.com

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{cache}} (\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#dict}{\sphinxstyleliteralemphasis{\sphinxupquote{dict}}}) \textendash{} Dictionary for storing spf/dmarc records

\end{itemize}

\item[{Returns}] \leavevmode
‘VALID’\textbar{}’INVALID’\textbar{}’MISSING’

\item[{Return type}] \leavevmode
\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{str}

\end{description}\end{quote}

\end{fulllineitems}

\index{validate\_dmarc() (in module sdvalidator)@\spxentry{validate\_dmarc()}\spxextra{in module sdvalidator}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{functions:sdvalidator.validate_dmarc}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{sdvalidator.}}\sphinxbfcode{\sphinxupquote{validate\_dmarc}}}{\emph{domain}, \emph{cache=\{\}}}{}~
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{validate\PYGZus{}dmarc}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{csbaird.com}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{g+go}{\PYGZsq{}VALID\PYGZsq{}}
\end{sphinxVerbatim}

Check validity of a domain’s dmarc record.
Uses a regex and checks recursive lookup depth.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{domain}} (\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxstyleliteralemphasis{\sphinxupquote{str}}}) \textendash{} A domain such as example.com

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{cache}} (\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#dict}{\sphinxstyleliteralemphasis{\sphinxupquote{dict}}}) \textendash{} Dictionary for storing spf/dmarc records

\end{itemize}

\item[{Returns}] \leavevmode
‘VALID’\textbar{}’INVALID’\textbar{}’MISSING’

\item[{Return type}] \leavevmode
\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{str}

\end{description}\end{quote}

\end{fulllineitems}

\index{validate\_sd() (in module sdvalidator)@\spxentry{validate\_sd()}\spxextra{in module sdvalidator}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{functions:sdvalidator.validate_sd}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{sdvalidator.}}\sphinxbfcode{\sphinxupquote{validate\_sd}}}{\emph{domains}, \emph{cache=\{\}}, \emph{verbose=False}}{}~
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{validate\PYGZus{}sd}\PYG{p}{(}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{csbaird.com}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)}
\PYG{g+go}{\PYGZob{}\PYGZsq{}csbaird.com\PYGZsq{}: \PYGZob{}\PYGZsq{}spf\PYGZsq{}: [\PYGZsq{}v=spf1 mx \PYGZhy{}all\PYGZsq{}], \PYGZsq{}dmarc\PYGZsq{}: [\PYGZsq{}v=DMARC1;  p=reject; pct=100; rua=mailto:root@csbaird.com; ruf=mailto:root@csbaird.com\PYGZsq{}], \PYGZsq{}spf\PYGZus{}validity\PYGZsq{}: \PYGZsq{}VALID\PYGZsq{}, \PYGZsq{}dmarc\PYGZus{}validity\PYGZsq{}: \PYGZsq{}VALID\PYGZsq{}\PYGZcb{}, \PYGZsq{}fake.csbaird.com\PYGZsq{}: \PYGZob{}\PYGZsq{}spf\PYGZsq{}: [\PYGZsq{}v=spf1 \PYGZhy{}all\PYGZsq{}], \PYGZsq{}dmarc\PYGZsq{}: [], \PYGZsq{}spf\PYGZus{}validity\PYGZsq{}: \PYGZsq{}VALID\PYGZsq{}, \PYGZsq{}dmarc\PYGZus{}validity\PYGZsq{}: \PYGZsq{}VALID\PYGZsq{}\PYGZcb{}\PYGZcb{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{validate\PYGZus{}sd}\PYG{p}{(}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{csbaird.com}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{csbaird.com}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{spf\PYGZus{}validity}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}
\PYG{g+go}{\PYGZsq{}VALID\PYGZsq{}}
\end{sphinxVerbatim}

Check the validity of SPF and DMARC records for a list of domains.  \sphinxstylestrong{cache{[}\textless{}domain\textgreater{}{]}} keys:
\begin{itemize}
\item {} 
‘\sphinxstyleemphasis{spf}’: SPF record for the domain

\item {} 
‘\sphinxstyleemphasis{spf\_validity}’: validity of the SPF record

\item {} 
‘\sphinxstyleemphasis{dmarc}’: DMARC record for the domain

\item {} 
‘\sphinxstyleemphasis{dmarc\_validity}’: validity of the DMARC record for a domain

\end{itemize}
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{domains}} (\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#list}{\sphinxstyleliteralemphasis{\sphinxupquote{list}}}) \textendash{} A list of domains to test

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{cache}} (\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#list}{\sphinxstyleliteralemphasis{\sphinxupquote{list}}}) \textendash{} A dict to store results

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{verbose}} (\sphinxhref{https://docs.python.org/3/library/functions.html\#bool}{\sphinxstyleliteralemphasis{\sphinxupquote{bool}}}) \textendash{} Optionally print the progress to the stdout

\end{itemize}

\item[{Returns}] \leavevmode
cache

\item[{Return type}] \leavevmode
\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#dict}{dict}

\end{description}\end{quote}

\end{fulllineitems}



\chapter{Quick Start}
\label{\detokenize{index:quick-start}}

\section{Command line}
\label{\detokenize{index:command-line}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZdl{}} pip3 install sdvalidator
\PYG{g+gp}{\PYGZdl{}} sdvalidate csbaird.com
\PYG{g+go}{VALID}
\end{sphinxVerbatim}


\section{Script}
\label{\detokenize{index:script}}
test.py:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{sdvalidator} \PYG{k}{import} \PYG{o}{*}
\PYG{n}{domains} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{csbaird.com}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{google.com}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{github.com}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}
\PYG{n}{cache} \PYG{o}{=} \PYG{n}{validate\PYGZus{}sd}\PYG{p}{(}\PYG{n}{domains}\PYG{p}{,}\PYG{n}{verbose}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{cache}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{csbaird.com}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{spf\PYGZus{}validity}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} VALID}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZdl{}} python3 test.py
\PYG{g+go}{VALID}
\end{sphinxVerbatim}


\chapter{Indices and tables}
\label{\detokenize{index:indices-and-tables}}\begin{itemize}
\item {} 
\DUrole{xref,std,std-ref}{genindex}

\item {} 
\DUrole{xref,std,std-ref}{modindex}

\item {} 
\DUrole{xref,std,std-ref}{search}

\end{itemize}


\renewcommand{\indexname}{Python Module Index}
\begin{sphinxtheindex}
\let\bigletter\sphinxstyleindexlettergroup
\bigletter{s}
\item\relax\sphinxstyleindexentry{sdvalidator}\sphinxstyleindexpageref{functions:\detokenize{module-sdvalidator}}
\end{sphinxtheindex}

\renewcommand{\indexname}{Index}
\printindex
\end{document}